<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galdora E-Mail Generator</title>
    <style>
        body { font-family: 'Helvetica Neue', Arial, sans-serif; background: #f0f2f5; padding: 20px; color: #333; }
        .tool-container { max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .controls { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); height: fit-content; }
        .preview-area { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        h2 { margin-top: 0; color: #eb5cdb; }
        label { display: block; margin-bottom: 5px; font-weight: bold; margin-top: 15px; }
        input, select, textarea { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; }
        button { background: linear-gradient(90deg, #d47df5 0%, #6dd5fa 100%); color: white; border: none; padding: 12px 20px; border-radius: 4px; cursor: pointer; font-weight: bold; margin-top: 20px; width: 100%; font-size: 16px; }
        button:hover { opacity: 0.9; }
        .output-code { margin-top: 20px; }
        textarea.code-box { font-family: monospace; height: 150px; background: #333; color: #0f0; font-size: 12px; }
        @media (max-width: 800px) { .tool-container { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

<div class="tool-container">
    <div class="controls">
        <h2>üíå Galdora E-Mail Generator</h2>
        
        <label for="templateSelect">Welche E-Mail m√∂chtest du senden?</label>
        <select id="templateSelect" onchange="updatePreview()">
            <option value="interview">0. Viel Erfolg beim Gespr√§ch</option>
            <option value="cv">1. Bitte schicke uns deinen Lebenslauf</option>
            <option value="review">2. Bitte bewerte unsere Services</option>
            <option value="googleform">3. Bitte f√ºlle das Google Formular aus</option>
            <option value="reengage">4. Bist du noch an einem Job interessiert?</option>
            <option value="zusage">5. Zusage</option>
            <option value="absage">6. Absage</option>
        </select>

        <label for="recipientName">Name des Bewerbers:</label>
        <input type="text" id="recipientName" placeholder="z.B. Max Mustermann" oninput="updatePreview()">

        <div id="dynamicInputs">
            <label for="dateInput">Datum (f√ºr Gespr√§ch):</label>
            <input type="text" id="dateInput" placeholder="z.B. Montag, 12.10." oninput="updatePreview()">

            <label for="companyInput">Unternehmen:</label>
            <input type="text" id="companyInput" placeholder="z.B. Muster GmbH" oninput="updatePreview()">
        </div>
        
        <div id="linkContainer" style="display:none;">
            <label for="customLink">Link zum Formular/Profil:</label>
            <input type="text" id="customLink" value="https://forms.gle/ji4YrY1e6ypzpLpo6" oninput="updatePreview()">
        </div>

        <button onclick="copyCode()">HTML-Code kopieren</button>
        
        <div class="output-code">
            <label>Generierter HTML Code:</label>
            <textarea id="codeOutput" class="code-box" readonly></textarea>
        </div>
    </div>

    <div class="preview-area">
        <h2>Vorschau</h2>
        <iframe id="emailPreview" style="width: 100%; height: 600px; border: 1px solid #eee;"></iframe>
    </div>
</div>

<script>
    const LOGO_URL = "https://sp-ao.shortpixel.ai/client/to_auto,q_glossy,ret_img,w_1536/https://www.galdora.de/wp-content/uploads/2024/06/G-6-1536x391.webp";
    
    // Platzhalter: {{DATE}} und {{COMPANY}} werden dynamisch ersetzt
    const templates = {
        interview: {
            subject: "Viel Erfolg bei deinem Gespr√§ch!",
            headline: "Viel Erfolg!",
            body: `f√ºr dein bevorstehendes Gespr√§ch am <strong>{{DATE}}</strong> bei <strong>{{COMPANY}}</strong> w√ºnschen wir dir maximale Erfolge. Du bist gut vorbereitet ‚Äì geh raus und √ºberzeuge!`
        },
        cv: {
            subject: "Wir ben√∂tigen noch deinen Lebenslauf",
            headline: "N√§chster Schritt: Dein Lebenslauf",
            body: `vielen Dank f√ºr dein Interesse. Damit wir dich unseren Partnerunternehmen bestm√∂glich vorstellen k√∂nnen, fehlt uns aktuell noch dein <strong>Lebenslauf</strong>.<br><br>
            Bitte sende uns diesen einfach als Antwort auf diese E-Mail zu (PDF bevorzugt). Sobald wir ihn haben, pr√ºfen wir die passenden Optionen f√ºr dich.`
        },
        review: {
            subject: "Deine Meinung ist uns wichtig",
            headline: "Wie war deine Erfahrung?",
            body: `wir hoffen, du bist mit unserer Betreuung zufrieden. Unser Ziel ist es, jeden Tag besser zu werden ‚Äì und daf√ºr brauchen wir dein Feedback.<br><br>
            Es dauert nur eine Minute und hilft uns enorm, unseren Service f√ºr dich und andere Bewerber zu optimieren. Klicke einfach unten auf den Bewertungs-Button.`
        },
        googleform: {
            subject: "Bitte fehlende Informationen erg√§nzen",
            headline: "Noch ein kleiner Schritt",
            body: `um den Bewerbungsprozess fortzusetzen, ben√∂tigen wir noch ein paar spezifische Informationen von dir.<br><br>
            Wir haben dazu ein kurzes Formular vorbereitet. Bitte f√ºlle es zeitnah aus, damit es ohne Verz√∂gerung weitergehen kann.<br><br>
            <a href="{{LINK}}" style="color: #eb5cdb; font-weight: bold;">Hier geht es zum Formular</a>`
        },
        reengage: {
            subject: "Bist du noch auf der Suche?",
            headline: "Lange nichts geh√∂rt...",
            body: `wir wollten uns kurz bei dir erkundigen: <strong>Bist du aktuell noch an neuen Jobangeboten interessiert?</strong><br><br>
            Falls ja: Antworte kurz auf diese Mail oder ruf uns an. Wir haben aktuell wieder spannende Vakanzen, die zu deinem Profil passen k√∂nnten.<br>
            Falls nein: Alles Gute f√ºr deinen neuen Weg!`
        },
        zusage: {
            subject: "Gute Neuigkeiten zu deiner Bewerbung!",
            headline: "Herzlichen Gl√ºckwunsch!",
            body: `wir haben gute Nachrichten f√ºr dich: <strong>{{COMPANY}}</strong> m√∂chte dir eine Zusage erteilen!<br><br>
            Das Unternehmen war von deinem Profil und dem Gespr√§ch sehr beeindruckt. Wir melden uns in K√ºrze telefonisch bei dir, um die weiteren Schritte und Details zum Vertragsangebot zu besprechen.`
        },
        absage: {
            subject: "R√ºckmeldung zu deiner Bewerbung",
            headline: "Update zu deiner Bewerbung",
            body: `vielen Dank f√ºr deine Geduld. Leider m√ºssen wir dir mitteilen, dass sich <strong>{{COMPANY}}</strong> im aktuellen Prozess f√ºr einen anderen Kandidaten entschieden hat.<br><br>
            Lass den Kopf nicht h√§ngen ‚Äì wir halten weiterhin Ausschau nach passenden Positionen f√ºr dich und melden uns, sobald wir eine neue spannende Option haben.`
        }
    };

    function getHtml(data) {
        // Signatur entfernt, Emojis entfernt
        return `<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${data.subject}</title>
</head>
<body style="margin:0; padding:0; background-color:#f4f4f4; font-family:'Helvetica Neue', Arial, sans-serif;">
    <table width="100%" border="0" cellpadding="0" cellspacing="0" style="background-color:#f4f4f4; padding:20px 0;">
        <tr>
            <td align="center">
                <table width="600" border="0" cellpadding="0" cellspacing="0" style="background-color:#ffffff; border-radius:8px; overflow:hidden; box-shadow:0 4px 15px rgba(0,0,0,0.05);">
                    <tr><td height="10" style="background:linear-gradient(90deg, #d47df5 0%, #6dd5fa 100%);"></td></tr>
                    <tr>
                        <td align="center" style="padding:30px 20px; border-bottom:1px solid #eeeeee;">
                            <img src="${LOGO_URL}" alt="Galdora" width="300" style="max-width:100%; height:auto;">
                        </td>
                    </tr>
                    <tr>
                        <td style="padding:40px; text-align:left;">
                            <h1 style="color:#000; font-size:24px; margin:0 0 20px 0;">${data.headline}</h1>
                            <p style="font-size:16px; line-height:1.6; color:#333; margin-bottom:20px;">Hallo ${data.recipient},</p>
                            <p style="font-size:16px; line-height:1.6; color:#333; margin-bottom:20px;">${data.bodyContent}</p>
                            <p style="font-size:16px; line-height:1.6; color:#333; margin-bottom:0;">
                                Danke f√ºr dein Vertrauen. Falls Fragen offen sind: <br>
                                <strong style="color:#eb5cdb;">Melde dich jederzeit bei uns.</strong>
                            </p>
                        </td>
                    </tr>
                    <tr>
                        <td align="center" style="padding:30px 20px; background-color:#1a1a1a; color:#fff;">
                            <p style="font-size:15px; margin:0 0 20px 0; color:#fff;">Zufrieden mit dem Prozess?</p>
                            <a href="https://share.google/MHcWTyKOYQHP9M2Ry" style="font-size:16px; font-weight:bold; color:#fff; text-decoration:none; padding:12px 30px; border-radius:4px; border:1px solid #d47df5; display:inline-block; background:linear-gradient(90deg, #d47df5 0%, #6dd5fa 100%);">Jetzt bewerten</a>
                            <br><br>
                            <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&color=ffffff&bgcolor=1a1a1a&data=https%3A%2F%2Fshare.google%2FMHcWTyKOYQHP9M2Ry" width="120" height="120" style="border:2px solid #eb5cdb; border-radius:8px; padding:5px;">
                        </td>
                    </tr>
                    <tr>
                        <td align="center" style="padding:20px; background-color:#f4f4f4; color:#999; font-size:12px;">
                            &copy; 2025 Galdora Personalmanagement GmbH & Co. KG<br>
                            <a href="https://www.galdora.de" style="color:#999; text-decoration:none;">www.galdora.de</a>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</body>
</html>`;
    }

    function updatePreview() {
        const type = document.getElementById('templateSelect').value;
        const recipient = document.getElementById('recipientName').value || "[Name]";
        const customLink = document.getElementById('customLink').value;
        
        // Neue Inputs abrufen
        const dateVal = document.getElementById('dateInput').value || "[Datum]";
        const companyVal = document.getElementById('companyInput').value || "[Unternehmen]";

        // Link Input Sichtbarkeit
        document.getElementById('linkContainer').style.display = (type === 'googleform') ? 'block' : 'none';

        let content = templates[type];
        let bodyText = content.body;

        // Ersetzungen durchf√ºhren
        bodyText = bodyText.replace('{{LINK}}', customLink);
        bodyText = bodyText.replace('{{DATE}}', dateVal);
        bodyText = bodyText.replace('{{COMPANY}}', companyVal);

        const emailData = {
            subject: content.subject,
            headline: content.headline,
            bodyContent: bodyText,
            recipient: recipient
        };

        const finalHtml = getHtml(emailData);
        document.getElementById('codeOutput').value = finalHtml;
        const blob = new Blob([finalHtml], { type: 'text/html' });
        document.getElementById('emailPreview').src = URL.createObjectURL(blob);
    }

    function copyCode() {
        const copyText = document.getElementById("codeOutput");
        copyText.select();
        navigator.clipboard.writeText(copyText.value);
        alert("HTML Code kopiert!");
    }

    window.onload = updatePreview;
</script>

</body>
</html>
